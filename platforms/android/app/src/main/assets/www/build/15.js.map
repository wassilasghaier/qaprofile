{"version":3,"sources":["../../src/pages/resetpwd/resetpwd.module.ts","../../src/pages/resetpwd/resetpwd.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ResetpwdPage } from './resetpwd';\n\n@NgModule({\n  declarations: [\n    ResetpwdPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ResetpwdPage),\n  ],\n})\nexport class ResetpwdPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/resetpwd/resetpwd.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, Tabs, LoadingController } from 'ionic-angular';\nimport { FormGroup, Validators, FormBuilder, FormControl } from '@angular/forms';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { UserserviceProvider, User } from '../../providers/userservice/userservice';\nimport { AlertController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n/**\n * Generated class for the ResetpwdPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-resetpwd',\n  templateUrl: 'resetpwd.html',\n})\nexport class ResetpwdPage {\n  exampleForm: FormGroup;\n  checkForm: FormGroup;\n  changeForm: FormGroup;\n  email: string = '';\n  password: string = '';\n  phone: string = '';\n  name: string = '';\n  account: { name: string, email: string, phone: number, password: string };\n  info: User;\n  STORAGE_VALUE: string = '';\n  id: string;\n  page: string;\n  tab:Tabs; \n  isCode =false;\n  isCheck=false;\n  baseURL: string;\n  constructor(public navCtrl: NavController,\n    public http: HttpClient,\n    public NP: NavParams,\n    public fb: FormBuilder,\n    public alertCtrl: AlertController,\n    public toastController: ToastController,\n    public userservice: UserserviceProvider,\n    public loadingCtrl: LoadingController) {\n\n    // Create form builder validation rules\n    this.exampleForm = fb.group({\n       'email': new FormControl('', [Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')]),\n    });\n    this.checkForm = fb.group({\n      'email': new FormControl('', [Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')]),\n      'code': new FormControl('', [Validators.required]),\n   });\n   this.changeForm = fb.group({\n    'email': new FormControl('', [Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')]),\n    'password': new FormControl('', [Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+$'), Validators.minLength(4)]),\n  });\n  this.baseURL= this.userservice.baseURL;\n   /* this.tab = this.navCtrl.parent;*/\n    this.page=this.NP.get('p');\n }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ResetpwdPage');\n  }\n\n  doSend(){\n   let loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    loading.present();\n    let credential = { email: this.exampleForm.value['email']};\n    this.email=credential.email;\n    this.http.post(`${this.baseURL}/user/forgetpassword`, credential, { observe: 'response' }).subscribe(data => {\n         let user: any\n         if (data.status == 200)\n         loading.dismiss();  \n         user = data.body;\n         this.info = user;\n         this.userservice.setUser(this.info);\n         this.sendNotification('please check your email to get the code');\n         this.goback(\"1\");\n      }, (error) => {\n         loading.dismiss();  \n         this.sendNotification(error.error);\n      });\n  }\n  sendNotification(message: string): void {\n    let notification = this.toastController.create({\n       message: message,\n       duration: 3000\n    });\n    notification.present();\n  }\n  goback(a:string) {\n  \n    if(a==\"1\")\n    {this.isCode= true;\n    this.checkForm.controls.email.setValue(this.email);\n    } \n    if(a==\"2\")\n    {this.isCode= true;\n    this.isCheck= true;\n    this.changeForm.controls.email.setValue(this.email);\n    console.log(\"true\");\n    //this.navCtrl.setRoot(this.navCtrl.getActive().component); \n    }\n    if(a==\"3\")\n    {  if(this.page ==\"LoginPage\")\n      this.navCtrl.setRoot('CartPage');\n      else\n       this.navCtrl.setRoot('TabsPage');}\n  } \n  check(){\n   let loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    loading.present();\n    let credential = { email: this.checkForm.value['email'], code: this.checkForm.value['code']};\n    this.email=credential.email;\n    this.http.post(`${this.baseURL}/user/checkcode`, credential, { observe: 'response' }).subscribe(data => {\n         if (data.status == 200)\n         loading.dismiss();  \n         this.sendNotification('please change your password');\n         this.goback(\"2\");\n      }, (error) => {\n         loading.dismiss();  \n         this.sendNotification(error.error);\n      });\n  \n  }\n  changepwd(){\n   let loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    loading.present();\n    let credential = { email: this.changeForm.value['email'], password: this.changeForm.value['password']};\n    this.email=credential.email;\n    this.http.post(`${this.baseURL}/user/changepwd`, credential, { observe: 'response' }).subscribe(data => {\n         let user: any\n         if (data.status == 200)\n         loading.dismiss();  \n         user = data.body;\n         this.info = user;\n         this.userservice.setUser(this.info);\n         this.sendNotification('password changed successfully');\n         this.goback(\"3\");\n      }, (error) => {\n         loading.dismiss();  \n         this.sendNotification(error.error);\n      });\n  \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/resetpwd/resetpwd.ts"],"sourceRoot":""}