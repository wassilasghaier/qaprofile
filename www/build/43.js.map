{"version":3,"sources":["../../src/pages/cart/cart.module.ts","../../src/pages/cart/cart.ts"],"names":[],"mappings":"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","file":"43.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CartPage } from './cart';\n\n@NgModule({\n  declarations: [\n    CartPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CartPage),\n  ],\n})\nexport class CartPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { UserserviceProvider, User } from '../../providers/userservice/userservice';\nimport { OrderserviceProvider, Cart } from '../../providers/orderservice/orderservice';\nimport { AlertController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { TabsPage } from '../tabs/tabs';\n\n/**\n * Generated class for the CartPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-cart',\n  templateUrl: 'cart.html',\n})\nexport class CartPage {\n  baseURL: string;\n  orders: Cart[] = [];\n  id = 0;\n  isEmptyCart = true;\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public http: HttpClient,\n    public alertCtrl: AlertController,\n    public toastController: ToastController,\n    public userservice: UserserviceProvider,\n    public orderservice: OrderserviceProvider,\n    private storage: Storage) {\n    //this.storage.clear();\n    this.baseURL = this.userservice.baseURL;\n    this.orders = this.orderservice.getOrder();\n    this.getValue();\n    if (this.orders.length > 0)\n      this.isEmptyCart = false;\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CartPage');\n  }\n  checkOut() {\n    if (this.id === null || this.id === undefined || this.id === 0) {\n      console.log(\"error\");\n      this.goToPage(\"LoginPage\");\n    }\n    else {\n      if (this.orders.length != 0) {\n\n        console.log(this.id);\n        let request = `${this.baseURL}/order/create`;\n        let order = { id: this.id, items: this.orders };\n        this.http.post(request, order, { observe: 'response' }).subscribe(data => {\n          let user: any\n          if (data.status == 200) {\n            this.orders.splice(0, this.orders.length);\n            this.orderservice.clearOrder();\n            this.sendNotification('your order saved successfully');\n            this.navCtrl.push('TabsPage');\n          }\n        }, (error) => {\n          this.sendNotification(error.error);\n        });\n      }\n\n\n    }\n  }\n  getValue() {\n    this.storage.get('ID').then((result) => {\n      this.id = result;\n      console.log('id', this.id);\n      if (this.id == null)\n        this.id = 0;\n    });\n  }\n  // Minus Product Quantity\n  minusQuantity(product, index) {\n    if (product.quantity > 1) {\n      this.orders[index].quantity = this.orders[index].quantity - 1;\n    }\n    console.log(this.orders);\n  }\n\n  // Add More Quantity\n  addQuantity(product, index) {\n    if (product.quantity) {\n      this.orders[index].quantity = this.orders[index].quantity + 1;\n    } else {\n      this.orders[index].quantity = 1;\n    }\n    console.log(this.orders);\n  }\n\n  // Remove Product From Cart\n  async removeProduct(product, index) {\n    this.orders.splice(index, 1);\n    console.log(this.orders);\n  }\n\n  showAlert(msg: string, title: string) {\n    let alert = this.alertCtrl.create({\n      title: title,\n      subTitle: (msg),\n      buttons: ['OK']\n    });\n\n    alert.present();\n\n  }\n  sendNotification(message: string): void {\n    let notification = this.toastController.create({\n      message: message,\n      duration: 3000\n    });\n    notification.present();\n  }\n  goToPage(page) {\n    this.navCtrl.push('LoginPage',{\n      p: 'CartPage',\n    }); \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.ts"],"sourceRoot":""}