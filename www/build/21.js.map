{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"21.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, LoadingController } from 'ionic-angular';\nimport { FormGroup, Validators, FormBuilder, FormControl } from '@angular/forms';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { UserserviceProvider, User } from '../../providers/userservice/userservice';\nimport { AlertController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n   /**\n    * @name form\n    * @type {FormGroup} \n    * @public\n    * @description     \n    */\n   exampleForm: FormGroup;\n   email: string = '';\n   password: string = '';\n   phone: string = '';\n   name: string = '';\n   account: { name: string, email: string, phone: number, password: string };\n   info: User;\n   STORAGE_VALUE: string = '';\n   id: string;\n   user: User;\n   page: string;\n   private baseURL: string;\n   // Initialise module classes\n   constructor(public navCtrl: NavController,\n      public http: HttpClient,\n      public NP: NavParams,\n      public fb: FormBuilder,\n      public alertCtrl: AlertController,\n      public toastController: ToastController,\n      public userservice: UserserviceProvider,\n      private storage: Storage,\n      public loadingCtrl: LoadingController\n      ) {\n\n      // Create form builder validation rules\n      this.exampleForm = fb.group({\n         \"name\": new FormControl('', [Validators.required]),\n         'email': new FormControl('', [Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')]),\n         \"phone\": new FormControl('', [Validators.required,]),\n      });\n      this.baseURL = this.userservice.baseURL;\n      this.page=this.NP.get('p');\n      console.log(this.page);\n      this.getValue();\n   }\n\n\n\n\n   /**\n    * Triggered when template view is about to be entered\n    * Determine whether we adding or editing a record\n    * based on any supplied navigation parameters\n    *\n    * @public\n    * @method ionViewWillEnter \n    * @return {None}\n    */\n   ionViewWillEnter(): void {\n      this.setValue();\n   }\n   update() {\n      console.log(\"Validate successfully\");\n      console.log(this.exampleForm.value['email']);\n      let credential = { id: this.user.id, name: this.exampleForm.value['name'], email: this.exampleForm.value['email'], phone: this.exampleForm.value['phone']};\n      this.http.post(`${this.baseURL}/user/update`, credential, { observe: 'response' }).subscribe(data => { \n        if (data.status == 200)\n         this.sendNotification('user information updated successfully');\n         this.goback();\n      }, (error) => {\n         this.sendNotification(error.error);\n      });\n\n\n   }\n   sendNotification(message: string): void {\n      let notification = this.toastController.create({\n         message: message,\n         cssClass:\"custom-class\",\n         duration: 3000,\n      });\n      notification.present();\n   }\n  \n   saveValue(user: User) {\n\n      console.log(user);\n      \n\n      if (user) {\n\n         this.storage.set('ID', user.id);\n         this.storage.set('NAME', user.name);\n\n      }\n\n   }\n   getValue() {\n      this.storage.get('ID').then((result) => {\n         this.id=result;\n         console.log('id',this.id);\n      });\n   }\n   showAlert(msg: string, title: string)\n   {\n      let alert = this.alertCtrl.create({\n       title: title,\n       subTitle:(msg),\n       buttons: ['OK']\n       });\n      \n       alert.present();\n       \n   }\n   goback() {\n      this.navCtrl.pop();\n      console.log('Click on button Test Console Log');\n   }   \n   setValue() {\n   let loading = this.loadingCtrl.create({\n         content: 'Please wait...'\n       });\n   loading.present();\n    let request = `${this.baseURL}/user/info`;\n    this.http.post(request,{id: this.page}, { observe: 'response' }).subscribe(data => {\n      let info:any;\n      if (data.status == 200)\n         loading.dismiss();\n         info= data.body;\n         this.user = info;\n         console.log(this.user);\n         this.exampleForm.controls.name.setValue(this.user.name);\n         this.exampleForm.controls.email.setValue(this.user.email);\n         this.exampleForm.controls.phone.setValue(this.user.phone);\n    }, (error) => {\n      loading.dismiss();\n      console.log(error);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}