{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, LoadingController } from 'ionic-angular';\nimport { FormGroup, Validators, FormBuilder, FormControl } from '@angular/forms';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { UserserviceProvider, User } from '../../providers/userservice/userservice';\nimport { AlertController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n  // The account fields for the login form.\n  // If you're using the username field with or without email, make\n  // sure to add it to the type\n  exampleForm: FormGroup;\n  email: string = '';\n  password: string = '';\n  baseURL:string;\n  id:string;\n  info: User;\n  page: string;\n\n  constructor(public navCtrl: NavController,\n    public http: HttpClient,\n    public NP: NavParams,\n    public fb: FormBuilder,\n    public alertCtrl: AlertController,\n    public toastController: ToastController,\n    public userservice: UserserviceProvider,\n    private storage: Storage,\n    public loadingCtrl: LoadingController) {\n\n    // Create form builder validation rules\n    this.exampleForm = fb.group({\n       'email': new FormControl('', [Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')]),\n       'password': new FormControl('', [Validators.required]),\n    });\n    //this.storage.clear();\n    this.baseURL= this.userservice.baseURL;\n    this.page=this.NP.get('p');\n    console.log(this.page);\n }\n\n  doSignup() {\n    \n    console.log(\"Validate successfully\");\n    console.log(this.exampleForm);\n    this.sigin();\n  }\n  sigin() {\n    let request = `${this.baseURL}/user/login`;\n    let loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    loading.present();\n    let credential = {email: this.exampleForm.value['email'], password: this.exampleForm.value['password'] };\n    this.http.post(request, credential, { observe: 'response' }).subscribe(data => {\n       let user: any\n       if (data.status == 200)\n       loading.dismiss();\n       user = data.body;\n       this.info = user;\n       this.saveValue(this.info);\n       this.getValue();\n       this.goback();\n    }, (error) => {\n       loading.dismiss();\n       this.sendNotification(error.error);\n    });\n\n\n }\n\n \n sendNotification(message: string): void {\n    let notification = this.toastController.create({\n       message: message,\n       duration: 3000\n    });\n    notification.present();\n }\n\n\n\n\n saveValue(user: User) {\n\n    console.log(user);\n    \n\n    if (user) {\n\n       this.storage.set('ID', user.id);\n       this.storage.set('NAME', user.name);\n\n    }\n\n }\n getValue() {\n    this.storage.get('ID').then((result) => {\n       this.id=result;\n       console.log('id',this.id);\n    });\n }\n showAlert(msg: string, title: string)\n {\n    let alert = this.alertCtrl.create({\n     title: title,\n     subTitle:(msg),\n     buttons: ['OK']\n     });\n    \n     alert.present();\n     \n }\n goback() {\n   if(this.page != null || this.page != undefined || this.page !='')\n   {this.navCtrl.push(this.page);} \n   else \n   {\n     //profile\n     this.navCtrl.push('CartPage');\n    } \n } \n register() {\n  if(this.page != null || this.page != undefined || this.page !=''){\n  this.navCtrl.push('RegisterPage',{\n    p: this.page,\n  }); \n  } \n  else \n  this.navCtrl.push('RegisterPage');\n  } \n  forget(){\n  this.navCtrl.push('ResetpwdPage',{\n   p: 'LoginPage',\n   });\n   } \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}